{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/LIM017-notes/src/App.js\",\n    _s = $RefreshSig$();\n\n/*import Login from './components/Login/LoginIn.js';\nimport {BrowserRouter,Route,Routes,} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Login/>}/>\n      </Routes>\n    </BrowserRouter>\n  );\n}\nexport default App;*/\n/////////////////////\nimport React, { useState } from \"react\";\nimport Home from \"./components/Login/Home.js\";\nimport Login from \"./components/Login/LoginIn.js\";\nimport { firebaseApp } from \"./firebase/connection.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst auth = getAuth(firebaseApp);\nconst firestore = getFirestore(firebaseApp);\n\nfunction App() {\n  _s();\n\n  const [user, setUser] = useState(null);\n\n  async function getRol(uid) {\n    const docuRef = doc(firestore, `usuarios/${uid}`);\n    const docuCifrada = await getDoc(docuRef);\n    const infoFinal = docuCifrada.data().rol;\n    return infoFinal;\n  }\n\n  function setUserWithFirebaseAndRol(usuarioFirebase) {\n    getRol(usuarioFirebase.uid).then(rol => {\n      const userData = {\n        uid: usuarioFirebase.uid,\n        email: usuarioFirebase.email\n      };\n      setUser(userData);\n      console.log(\"userData fianl\", userData);\n    });\n  }\n\n  onAuthStateChanged(auth, usuarioFirebase => {\n    if (usuarioFirebase) {\n      //funcion final\n      if (!user) {\n        setUserWithFirebaseAndRol(usuarioFirebase);\n      }\n    } else {\n      setUser(null);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user ? /*#__PURE__*/_jsxDEV(Home, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 43\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n\n_c = App;\nexport default App;\n/*burgues queen \nimport Welcome from './components/Welcome/index.js';\nimport Chef from './components/Chef/index.js';\nimport Index from './components/Mesero/index.js';\nimport Admin from './components/Administrador/index.js';\nimport BreakfastOverview from \"./components/Mesero/Breakfast/BreakfastOverview.js\";\nimport MenuOverview from \"./components/Mesero/Menu/MenuOverview.js\";\nimport {BrowserRouter,Route,Routes,} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Welcome/>}/>\n        <Route path=\"/chef\" element={<Chef/>}/>\n        <Route path=\"/mesero\" element={<Index/>}/>\n        <Route path=\"/admin\" element={<Admin/>}/>\n        <Route path=\"/mesero/breakfast\" element={<BreakfastOverview/>} />\n        <Route path=\"/menu\" element={<MenuOverview/>} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Home","Login","firebaseApp","getAuth","onAuthStateChanged","getFirestore","doc","getDoc","auth","firestore","App","user","setUser","getRol","uid","docuRef","docuCifrada","infoFinal","data","rol","setUserWithFirebaseAndRol","usuarioFirebase","then","userData","email","console","log"],"sources":["/Users/mac/Documents/LIM017-notes/src/App.js"],"sourcesContent":["/*import Login from './components/Login/LoginIn.js';\nimport {BrowserRouter,Route,Routes,} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Login/>}/>\n      </Routes>\n    </BrowserRouter>\n  );\n}\nexport default App;*/\n/////////////////////\nimport React, { useState } from \"react\";\n\nimport Home from \"./components/Login/Home.js\";\nimport Login from \"./components/Login/LoginIn.js\";\n\nimport {firebaseApp} from \"./firebase/connection.js\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nconst auth = getAuth(firebaseApp);\nconst firestore = getFirestore(firebaseApp);\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  async function getRol(uid) {\n    const docuRef = doc(firestore, `usuarios/${uid}`);\n    const docuCifrada = await getDoc(docuRef);\n    const infoFinal = docuCifrada.data().rol;\n    return infoFinal;\n  }\n\n  function setUserWithFirebaseAndRol(usuarioFirebase) {\n    getRol(usuarioFirebase.uid).then((rol) => {\n      const userData = {\n        uid: usuarioFirebase.uid,\n        email: usuarioFirebase.email,\n       \n      };\n      setUser(userData);\n      console.log(\"userData fianl\", userData);\n    });\n  }\n\n  onAuthStateChanged(auth, (usuarioFirebase) => {\n    if (usuarioFirebase) {\n      //funcion final\n\n      if (!user) {\n        setUserWithFirebaseAndRol(usuarioFirebase);\n      }\n    } else {\n      setUser(null);\n    }\n  });\n\n  return <>{user ? <Home user={user} /> : <Login />}</>;\n}\n\nexport default App;\n\n\n\n/*burgues queen \nimport Welcome from './components/Welcome/index.js';\nimport Chef from './components/Chef/index.js';\nimport Index from './components/Mesero/index.js';\nimport Admin from './components/Administrador/index.js';\nimport BreakfastOverview from \"./components/Mesero/Breakfast/BreakfastOverview.js\";\nimport MenuOverview from \"./components/Mesero/Menu/MenuOverview.js\";\nimport {BrowserRouter,Route,Routes,} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Welcome/>}/>\n        <Route path=\"/chef\" element={<Chef/>}/>\n        <Route path=\"/mesero\" element={<Index/>}/>\n        <Route path=\"/admin\" element={<Admin/>}/>\n        <Route path=\"/mesero/breakfast\" element={<BreakfastOverview/>} />\n        <Route path=\"/menu\" element={<MenuOverview/>} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n*/\n\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AAEA,SAAQC,WAAR,QAA0B,0BAA1B;AACA,SAASC,OAAT,EAAkBC,kBAAlB,QAA4C,eAA5C;AACA,SAASC,YAAT,EAAuBC,GAAvB,EAA4BC,MAA5B,QAA0C,oBAA1C;;;AACA,MAAMC,IAAI,GAAGL,OAAO,CAACD,WAAD,CAApB;AACA,MAAMO,SAAS,GAAGJ,YAAY,CAACH,WAAD,CAA9B;;AAEA,SAASQ,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;;EAEA,eAAec,MAAf,CAAsBC,GAAtB,EAA2B;IACzB,MAAMC,OAAO,GAAGT,GAAG,CAACG,SAAD,EAAa,YAAWK,GAAI,EAA5B,CAAnB;IACA,MAAME,WAAW,GAAG,MAAMT,MAAM,CAACQ,OAAD,CAAhC;IACA,MAAME,SAAS,GAAGD,WAAW,CAACE,IAAZ,GAAmBC,GAArC;IACA,OAAOF,SAAP;EACD;;EAED,SAASG,yBAAT,CAAmCC,eAAnC,EAAoD;IAClDR,MAAM,CAACQ,eAAe,CAACP,GAAjB,CAAN,CAA4BQ,IAA5B,CAAkCH,GAAD,IAAS;MACxC,MAAMI,QAAQ,GAAG;QACfT,GAAG,EAAEO,eAAe,CAACP,GADN;QAEfU,KAAK,EAAEH,eAAe,CAACG;MAFR,CAAjB;MAKAZ,OAAO,CAACW,QAAD,CAAP;MACAE,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,QAA9B;IACD,CARD;EASD;;EAEDnB,kBAAkB,CAACI,IAAD,EAAQa,eAAD,IAAqB;IAC5C,IAAIA,eAAJ,EAAqB;MACnB;MAEA,IAAI,CAACV,IAAL,EAAW;QACTS,yBAAyB,CAACC,eAAD,CAAzB;MACD;IACF,CAND,MAMO;MACLT,OAAO,CAAC,IAAD,CAAP;IACD;EACF,CAViB,CAAlB;EAYA,oBAAO;IAAA,UAAGD,IAAI,gBAAG,QAAC,IAAD;MAAM,IAAI,EAAEA;IAAZ;MAAA;MAAA;MAAA;IAAA,QAAH,gBAA0B,QAAC,KAAD;MAAA;MAAA;MAAA;IAAA;EAAjC,iBAAP;AACD;;GAnCQD,G;;KAAAA,G;AAqCT,eAAeA,GAAf;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}