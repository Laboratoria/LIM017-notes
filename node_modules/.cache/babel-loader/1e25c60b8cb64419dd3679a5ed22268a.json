{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/LIM017-notes/src/components/Login/LoginIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { firebaseApp } from \"../../firebase/connection.js\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst auth = getAuth(firebaseApp);\n\nfunction Login() {\n  _s();\n\n  const firestore = getFirestore(firebaseApp);\n  const [isRegistrando, setIsRegistrando] = useState(false); //  const [show, setShow] = useState(true);\n\n  async function registrarUsuario(email, password, rol) {\n    const infoUsuario = await createUserWithEmailAndPassword(auth, email, password).then(usuarioFirebase => {\n      return usuarioFirebase;\n    });\n    console.log(\"Registro exitoso\");\n    const docuRef = doc(firestore, `usuarios/${infoUsuario.user.uid}`);\n    setDoc(docuRef, {\n      correo: email,\n      rol: rol\n    });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    const email = e.target.elements.email.value;\n    const password = e.target.elements.password.value;\n    const rol = e.target.elements.rol.value;\n    console.log(\"iniciaste secion\");\n\n    if (isRegistrando) {\n      // registrar\n      registrarUsuario(email, password, rol);\n    } else {\n      // login\n      signInWithEmailAndPassword(auth, email, password);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isRegistrando ? \"Regístrate\" : \"Inicia sesión\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"rol\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Correo electr\\xF3nico:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Contrase\\xF1a:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), isRegistrando ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"rol\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Rol:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"admin\",\n                children: \"Administrador\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"user\",\n                children: \"Usuario\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: isRegistrando ? \"Registrar\" : \"Iniciar sesión\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsRegistrando(!isRegistrando),\n      children: isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"zY0ECoQN2xiLmPF61Cwy40X/WAk=\");\n\n_c = Login;\nexport default Login;\n/*\nimport React, { useState, useEffect } from \"react\";\nimport {firebaseApp} from \"../../firebase/connection.js\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n} from \"firebase/auth\";\n\nconst auth = getAuth(firebaseApp);\nfunction Login() {\n  const firestore = getFirestore(firebaseApp);\n  const [isRegistrando, setIsRegistrando] = useState(false);\n\n  async function registrarUsuario(email, password, rol) {\n    const infoUsuario = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    ).then((usuarioFirebase) => {\n      return usuarioFirebase;\n    });\n\n    console.log(\"Registro exitoso\");\n    const docuRef = doc(firestore, `usuarios/${infoUsuario.user.uid}`);\n    setDoc(docuRef, { correo: email, rol: rol });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    const email = e.target.elements.email.value;\n    const password = e.target.elements.password.value;\n    const rol = e.target.elements.rol.value;\n    console.log(\"iniciaste secion\");\n\n    if (isRegistrando) {\n      // registrar\n      registrarUsuario(email, password, rol);\n    } else {\n      // login\n      signInWithEmailAndPassword(auth, email, password);\n    }\n  }\n\n  return (\n    <div>\n      <h1>{isRegistrando ? \"Regístrate\" : \"Inicia sesión\"}</h1>\n\n      <form onSubmit={submitHandler}>\n        <label>\n          Correo electrónico:\n          <input type=\"email\" id=\"email\" />\n        </label>\n\n        <label>\n          Contraseña:\n          <input type=\"password\" id=\"password\" />\n        </label>\n\n        <label>\n          Rol:\n          <select id=\"rol\">\n            <option value=\"admin\">Administrador</option>\n            <option value=\"user\">Usuario</option>\n          </select>\n        </label>\n\n        <input\n          type=\"submit\"\n          value={isRegistrando ? \"Registrar\" : \"Iniciar sesión\"}\n        />\n      </form>\n\n      <button onClick={() => setIsRegistrando(!isRegistrando)}>\n        {isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"}\n      </button>\n    </div>\n\n\n  );\n}\nexport default Login;\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","firebaseApp","getFirestore","doc","setDoc","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","auth","Login","firestore","isRegistrando","setIsRegistrando","registrarUsuario","email","password","rol","infoUsuario","then","usuarioFirebase","console","log","docuRef","user","uid","correo","submitHandler","e","preventDefault","target","elements","value"],"sources":["/Users/mac/Documents/LIM017-notes/src/components/Login/LoginIn.js"],"sourcesContent":["\n\nimport React, { useState, useEffect } from \"react\";\nimport {firebaseApp} from \"../../firebase/connection.js\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n} from \"firebase/auth\";\n\nconst auth = getAuth(firebaseApp);\nfunction Login() {\n  const firestore = getFirestore(firebaseApp);\n\n  const [isRegistrando, setIsRegistrando] = useState(false);\n//  const [show, setShow] = useState(true);\n  async function registrarUsuario(email, password, rol) {\n    const infoUsuario = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    ).then((usuarioFirebase) => {\n      return usuarioFirebase;\n    });\n\n    console.log(\"Registro exitoso\");\n    const docuRef = doc(firestore, `usuarios/${infoUsuario.user.uid}`);\n    setDoc(docuRef, { correo: email, rol: rol });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    const email = e.target.elements.email.value;\n    const password = e.target.elements.password.value;\n    const rol = e.target.elements.rol.value;\n    console.log(\"iniciaste secion\");\n\n    if (isRegistrando) {\n      // registrar\n      registrarUsuario(email, password, rol);\n    } else {\n      // login\n      signInWithEmailAndPassword(auth, email, password);\n    }\n  }\n \n\n\n  return (\n    <div>\n      <h1>{isRegistrando ? \"Regístrate\" : \"Inicia sesión\"}</h1>\n\n      <select id=\"rol\">\n      <form onSubmit={submitHandler}>\n        <label>\n          Correo electrónico:\n          <input type=\"email\" id=\"email\" />\n        </label>\n        <br/>\n        <label>\n          Contraseña:\n          <input type=\"password\" id=\"password\" />\n        </label>\n\n\n        {isRegistrando ? ( \n        <div id=\"rol\">\n        <br/>\n     <label>\n       Rol:\n       <select>\n         <option value=\"admin\">Administrador</option>\n         <option value=\"user\">Usuario</option>\n       </select>\n     </label>\n     </div>      ) : (\n        <div ></div>\n      )}\n       \n        <br/>\n        <input\n          type=\"submit\"\n          value={isRegistrando ? \"Registrar\" : \"Iniciar sesión\"}\n        />\n      </form>\n      </select>\n  <br/>\n\n      <button onClick={() => setIsRegistrando(!isRegistrando)}>\n        {isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"}\n      </button>\n\n    \n      <br/>\n      <br/>\n\n    </div>\n  );\n}\nexport default Login;\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\nimport React, { useState, useEffect } from \"react\";\nimport {firebaseApp} from \"../../firebase/connection.js\";\nimport { getFirestore, doc, setDoc } from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n} from \"firebase/auth\";\n\nconst auth = getAuth(firebaseApp);\nfunction Login() {\n  const firestore = getFirestore(firebaseApp);\n  const [isRegistrando, setIsRegistrando] = useState(false);\n\n  async function registrarUsuario(email, password, rol) {\n    const infoUsuario = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    ).then((usuarioFirebase) => {\n      return usuarioFirebase;\n    });\n\n    console.log(\"Registro exitoso\");\n    const docuRef = doc(firestore, `usuarios/${infoUsuario.user.uid}`);\n    setDoc(docuRef, { correo: email, rol: rol });\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    const email = e.target.elements.email.value;\n    const password = e.target.elements.password.value;\n    const rol = e.target.elements.rol.value;\n    console.log(\"iniciaste secion\");\n\n    if (isRegistrando) {\n      // registrar\n      registrarUsuario(email, password, rol);\n    } else {\n      // login\n      signInWithEmailAndPassword(auth, email, password);\n    }\n  }\n\n  return (\n    <div>\n      <h1>{isRegistrando ? \"Regístrate\" : \"Inicia sesión\"}</h1>\n\n      <form onSubmit={submitHandler}>\n        <label>\n          Correo electrónico:\n          <input type=\"email\" id=\"email\" />\n        </label>\n\n        <label>\n          Contraseña:\n          <input type=\"password\" id=\"password\" />\n        </label>\n\n        <label>\n          Rol:\n          <select id=\"rol\">\n            <option value=\"admin\">Administrador</option>\n            <option value=\"user\">Usuario</option>\n          </select>\n        </label>\n\n        <input\n          type=\"submit\"\n          value={isRegistrando ? \"Registrar\" : \"Iniciar sesión\"}\n        />\n      </form>\n\n      <button onClick={() => setIsRegistrando(!isRegistrando)}>\n        {isRegistrando ? \"Ya tengo una cuenta\" : \"Quiero registrarme\"}\n      </button>\n    </div>\n\n\n  );\n}\nexport default Login;\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module"}